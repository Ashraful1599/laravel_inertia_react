import{u as L,r as m,R as s,b as e,j as r,L as p,d as g}from"./app.8ee9396d.js";import{D as T}from"./DashboardLayout.be011592.js";import{H as D}from"./Header.c54a3ebc.js";import{Q as I}from"./index.es.745b709c.js";import{Q as P}from"./react-toastify.esm.b4b407d9.js";/* empty css                      */import{E as H,T as A}from"./trash-2.1dbb9c2a.js";import"./index.9c46ddb8.js";import"./hoist-non-react-statics.cjs.d2fea6c5.js";const j=[{name:"Name",selector:t=>t.name,sortable:!0},{name:"Slug",selector:t=>t.slug,sortable:!0},{name:"Preview",selector:t=>e("img",{className:"preview_img",src:"/uploads/"+t.slug})},{name:"Action",selector:t=>r("div",{children:[r(p,{href:route("file.edit",t.id),className:"btn btn-datatable btn-icon btn-transparent-dark me-2",children:[" ",e(H,{})]}),e("button",{onClick:()=>{window.confirm("Are you sure to delete this record?")&&g.Inertia.delete(route("file.destroy",t.id))},className:"btn btn-datatable btn-icon btn-transparent-dark deleteBtn",children:e(A,{})})]})}];function K({files:t}){const{flash:h,auth:E}=L().props,d=h.success;m.exports.useEffect(()=>{P.success(d,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},[d]);const[l,f]=s.useState([]),[i,b]=s.useState(!1),[C,F]=s.useState(t),w=s.useCallback(a=>{f(a.selectedRows)},[]),N=s.useMemo(()=>e("button",{onClick:()=>{if(window.confirm(`Are you sure you want to delete ${l.length} item?`)){const n=[];l.map(k=>{n.push(k.id)});const R=n.join();g.Inertia.delete(route("file.destroy",R)),b(!i)}},className:"btn btn-primary",children:"Delete"}),[C,l,i]),[o,u]=s.useState(""),[c,v]=s.useState(!1),y=s.useMemo(()=>r("div",{className:"input-group mb-3",children:[e("input",{onChange:n=>{u(n.target.value)},value:o,type:"text",className:"form-control",placeholder:"Search here"}),e("div",{className:"input-group-append",children:e("button",{onClick:()=>{o&&(v(!c),u(""))},className:"btn btn-outline-secondary",type:"button",children:"Clear"})})]}),[o,c]),S=t.filter(a=>a.name&&a.name.toLowerCase().includes(o.toLowerCase())||a.slug&&a.slug.toLowerCase().includes(o.toLowerCase())),[M,x]=s.useState(!0);return m.exports.useEffect(()=>{x(!1)},[t]),r(T,{children:[e(D,{title:"Tag"}),e("div",{className:"container-xl px-4",children:r("div",{className:"card mb-4",children:[r("div",{className:"card-header",children:["Files Information ",e(p,{className:"btn btn-primary",style:{float:"right"},href:route("file.create"),children:"Add file"})]}),e("div",{className:"card-body",children:e(I,{title:"File List",columns:j,data:S,pagination:!0,paginationResetDefaultPage:c,subHeader:!0,subHeaderComponent:y,selectableRows:!0,contextActions:N,onSelectedRowsChange:w,clearSelectedRows:i})})]})})]})}export{K as default};
