import{u as Z,r as s,a as j,b as e,j as a,L as t}from"./app.8ee9396d.js";import"./CheckoutForm.68fd7c8c.js";import"./react-stripe.esm.26f43368.js";import"./stripe.esm.68a36c38.js";import{F as V}from"./FrontendLayout.e54e6823.js";import{R as X}from"./react-paginate.74cec0d8.js";import"./state.d698205e.js";import"./react-select.esm.8c846078.js";import"./hoist-non-react-statics.cjs.d2fea6c5.js";import"./CheckoutLogin.df7ce1ad.js";import"./react-toastify.esm.b4b407d9.js";import"./index.9c46ddb8.js";function ie({cat:Y,products:p,catProduct:u}){const{flashData:f,auth:H}=Z().props;f.categories,console.log(u),console.log(p);const g=p.data,[o,y]=s.exports.useState(g),[i,w]=s.exports.useState(9),N=l=>{l.preventDefault(),w(l.target.value)};console.log(o);const[b,x]=s.exports.useState(),[_,S]=s.exports.useState(0),[d,C]=s.exports.useState(0);s.exports.useEffect(()=>{const l=d+i;console.log(`Loading items from ${d} to ${l}`),x(o.slice(d,l)),S(Math.ceil(o.length/i))},[d,i,o]);const k=l=>{const r=l.selected*i%o.length;console.log(`User requested page number ${l.selected}, which is offset ${r}`),C(r)},{data:n,setData:P,post:L,processing:m,errors:Q,reset:G}=j({id:"",name:"",price:"",quantity:1,image:"",slug:"",product_type:"",add_to_cart:!1}),I=(l,r,c,h)=>{l.preventDefault(),localStorage.setItem("product_grid",c),localStorage.setItem("product_row",h),P({...n,id:r.id,name:r.name,price:r.offer_price,quantity:1,image:r.image,slug:r.slug,product_type:r.product_type,add_to_cart:!0}),A(window.scrollX),E(window.scrollY)};s.exports.useEffect(()=>{console.log(n),n.add_to_cart&&L(route("cart.store",n))},[n]),s.exports.useEffect(()=>{if(m){var l=localStorage.getItem("product_row"),r=localStorage.getItem("product_grid");document.querySelectorAll("."+l+".product_grid"+r+" .btn_loader_home")[0].style.display="block"}else document.querySelectorAll(".btn_loader_home").forEach(c=>{c.style.display="none"})},[m]);const[$,A]=s.exports.useState(),[D,E]=s.exports.useState();s.exports.useLayoutEffect(()=>{window.scrollTo($,D)});const O=l=>{l.preventDefault();var r=document.getElementById("filter-price-range").innerText,c=r.split("-"),h=c[0].replace("$",""),q=c[1].replace("$",""),T=g.filter(B=>{var F=B.offer_price.replace("$",""),M=Number(q.trim()),R=Number(h.trim()),v=Number(F.trim());return v>=R&&v<=M});y(T)};return e(V,{children:a("main",{className:"main",children:[a("div",{className:"container",children:[e("nav",{"aria-label":"breadcrumb",className:"breadcrumb-nav",children:a("ol",{className:"breadcrumb",children:[e("li",{className:"breadcrumb-item",children:e(t,{href:"/",children:e("i",{className:"icon-home"})})}),e("li",{className:"breadcrumb-item",children:e("a",{href:"#",children:"Shop"})})]})}),a("div",{className:"row",children:[a("div",{className:"col-lg-9 main-content",children:[a("nav",{className:"toolbox sticky-header","data-sticky-options":"{'mobile': true}",children:[a("div",{className:"toolbox-left",children:[a("a",{href:"#",className:"sidebar-toggle",children:[a("svg",{"data-name":"Layer 3",id:"Layer_3",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[e("line",{x1:"15",x2:"26",y1:"9",y2:"9",className:"cls-1"}),e("line",{x1:"6",x2:"9",y1:"9",y2:"9",className:"cls-1"}),e("line",{x1:"23",x2:"26",y1:"16",y2:"16",className:"cls-1"}),e("line",{x1:"6",x2:"17",y1:"16",y2:"16",className:"cls-1"}),e("line",{x1:"17",x2:"26",y1:"23",y2:"23",className:"cls-1"}),e("line",{x1:"6",x2:"11",y1:"23",y2:"23",className:"cls-1"}),e("path",{d:"M14.5,8.92A2.6,2.6,0,0,1,12,11.5,2.6,2.6,0,0,1,9.5,8.92a2.5,2.5,0,0,1,5,0Z",className:"cls-2"}),e("path",{d:"M22.5,15.92a2.5,2.5,0,1,1-5,0,2.5,2.5,0,0,1,5,0Z",className:"cls-2"}),e("path",{d:"M21,16a1,1,0,1,1-2,0,1,1,0,0,1,2,0Z",className:"cls-3"}),e("path",{d:"M16.5,22.92A2.6,2.6,0,0,1,14,25.5a2.6,2.6,0,0,1-2.5-2.58,2.5,2.5,0,0,1,5,0Z",className:"cls-2"})]}),e("span",{children:"Filter"})]}),a("div",{className:"toolbox-item toolbox-sort",children:[e("label",{children:"Sort By:"}),e("div",{className:"select-custom",children:a("select",{defaultValue:"menu_order",name:"orderby",className:"form-control",children:[e("option",{value:"menu_order",children:"Default sorting"}),e("option",{value:"popularity",children:"Sort by popularity"}),e("option",{value:"rating",children:"Sort by average rating"}),e("option",{value:"date",children:"Sort by newness"}),e("option",{value:"price",children:"Sort by price: low to high"}),e("option",{value:"price-desc",children:"Sort by price: high to low"})]})})]})]}),a("div",{className:"toolbox-right",children:[a("div",{className:"toolbox-item toolbox-show",children:[e("label",{children:"Show:"}),e("div",{className:"select-custom",children:a("select",{value:i,onChange:N,name:"count",className:"form-control",children:[e("option",{value:"9",children:"9"}),e("option",{value:"12",children:"12"}),e("option",{value:"24",children:"24"}),e("option",{value:"36",children:"36"})]})})]}),a("div",{className:"toolbox-item layout-modes",children:[e("a",{href:"#",className:"layout-btn btn-grid active",title:"Grid",children:e("i",{className:"icon-mode-grid"})}),e("a",{href:"#",className:"layout-btn btn-list",title:"List",children:e("i",{className:"icon-mode-list"})})]})]})]}),e("div",{className:"row",children:b&&b.map((l,r)=>l.product_type=="variable"?e("div",{className:"col-6 col-sm-4",children:a("div",{className:"product-default",children:[a("figure",{children:[a(t,{href:route("product.show",l.slug),children:[e("img",{src:`/uploads/${l.image}`,width:"280",height:"280",alt:"product"}),l.image2?e("img",{src:`/uploads/${l.image2}`,width:"280",height:"280",alt:"product"}):""]}),a("div",{className:"label-group",children:[e("div",{className:"product-label label-hot",children:l.promo1}),e("div",{className:"product-label label-sale",children:l.promo2})]})]}),a("div",{className:"product-details",children:[e("div",{className:"category-wrap",children:e("div",{className:"category-list",children:e(t,{href:route("category.product.show",l.category.cat_slug),className:"product-category",children:l.category.cat_name})})}),a("h3",{className:"product-title",children:[" ",e(t,{href:route("product.show",l.slug),children:l.name})," "]}),e("div",{className:"ratings-container",children:a("div",{className:"product-ratings",children:[e("span",{className:"ratings",style:{width:"100%"}}),e("span",{className:"tooltiptext tooltip-top"})]})}),e("div",{className:"price-box",children:e("span",{className:"product-price",children:l.variable_min_max})}),a("div",{className:"product-action",children:[e(t,{href:"/",className:"btn-icon-wish",title:"wishlist",children:e("i",{className:"icon-heart"})}),a(t,{href:"/",className:"btn-icon btn-add-cart",children:[e("i",{className:"fa fa-arrow-right"}),e("span",{children:"SELECT OPTIONS"})]}),e(t,{href:"/",className:"btn-quickview",title:"Quick View",children:e("i",{className:"fas fa-external-link-alt"})})]})]})]})},r):a("div",{className:"category_product col-6 col-sm-4 product_grid"+r,children:[e("img",{style:{display:"none"},className:"btn_loader btn_loader_home",src:"/loader_blue.svg",alt:""}),a("div",{className:"product-default",children:[a("figure",{children:[a(t,{href:route("product.show",l.slug),children:[e("img",{src:`/uploads/${l.image}`,width:"280",height:"280",alt:"product"}),l.image2?e("img",{src:`/uploads/${l.image2}`,width:"280",height:"280",alt:"product"}):""]}),a("div",{className:"label-group",children:[e("div",{className:"product-label label-hot",children:l.promo1}),e("div",{className:"product-label label-sale",children:l.promo2})]})]}),a("div",{className:"product-details",children:[e("div",{className:"category-list",children:e(t,{href:"/",className:"product-category",children:l.category.cat_name})}),e("h3",{className:"product-title",children:e(t,{href:route("product.show",l.slug),children:l.name})}),e("div",{className:"ratings-container",children:a("div",{className:"product-ratings",children:[e("span",{className:"ratings",style:{width:"100%"}}),e("span",{className:"tooltiptext tooltip-top"})]})}),a("div",{className:"price-box",children:[e("del",{className:"old-price",children:l.regular_price}),e("span",{className:"product-price",children:l.offer_price})]}),a("div",{className:"product-action",children:[e(t,{href:"/",className:"btn-icon-wish",title:"wishlist",children:e("i",{className:"icon-heart"})}),a(t,{disabled:m,as:"button",type:"button",onClick:c=>I(c,l,r,"category_product"),className:m?"btn-icon btn-add-cart disabled":"btn-icon btn-add-cart",children:[e("i",{className:"fa fa-arrow-right"}),e("span",{children:"ADD TO CART"})]}),e(t,{href:"/",className:"btn-quickview",title:"Quick View",children:e("i",{className:"fas fa-external-link-alt"})})]})]})]})]},r))}),a("nav",{className:"toolbox toolbox-pagination",children:[a("div",{className:"toolbox-item toolbox-show",children:[e("label",{children:"Show:"}),e("div",{className:"select-custom",children:a("select",{value:i,onChange:N,name:"count",className:"form-control",children:[e("option",{value:"9",children:"9"}),e("option",{value:"12",children:"12"}),e("option",{value:"24",children:"24"}),e("option",{value:"36",children:"36"})]})})]}),e(X,{breakLabel:"...",nextLabel:e("i",{className:"icon-angle-right"}),onPageChange:k,pageRangeDisplayed:5,pageCount:_,previousLabel:e("i",{className:"icon-angle-left"}),renderOnZeroPageCount:null,containerClassName:"pagination toolbox-item",pageClassName:"page-item",activeClassName:"active",breakClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",previousLinkClassName:"page-link",nextLinkClassName:"page-link"})]})]}),e("div",{className:"sidebar-overlay"}),e("aside",{className:"sidebar-shop col-lg-3 order-lg-first mobile-sidebar",children:a("div",{className:"sidebar-wrapper",children:[a("div",{className:"widget",children:[e("h3",{className:"widget-title",children:e("a",{"data-toggle":"collapse",href:"#widget-body-2",role:"button","aria-expanded":"true","aria-controls":"widget-body-2",children:"Categories"})}),e("div",{className:"collapse show",id:"widget-body-2",children:e("div",{className:"widget-body",children:e("ul",{className:"cat-list",children:u.map((l,r)=>e("li",{children:a(t,{href:route("category.product.show",l.cat_slug),children:[l.cat_name,a("span",{className:"products-count",children:["(",l.products_count,")"]})]})},r))})})})]}),a("div",{className:"widget",children:[e("h3",{className:"widget-title",children:e("a",{"data-toggle":"collapse",href:"#widget-body-3",role:"button","aria-expanded":"true","aria-controls":"widget-body-3",children:"Price"})}),e("div",{className:"collapse show",id:"widget-body-3",children:e("div",{className:"widget-body pb-0",children:a("form",{onSubmit:O,children:[e("div",{className:"price-slider-wrapper",children:e("div",{id:"price-slider"})}),a("div",{className:"filter-price-action d-flex align-items-center justify-content-between flex-wrap",children:[a("div",{className:"filter-price-text",children:["Price:",e("span",{id:"filter-price-range"})]}),e("input",{type:"hidden"}),e("button",{type:"submit",className:"btn btn-primary",children:"Filter"})]})]})})})]})]})})]})]}),e("div",{className:"mb-4"})]})})}export{ie as default};
