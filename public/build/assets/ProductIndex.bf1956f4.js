import{r as z,j as v,b as c,R as f,u as ne,L as A,d as P}from"./app.8ee9396d.js";import{D as ie}from"./DashboardLayout.be011592.js";import{H as se}from"./Header.c54a3ebc.js";import{Q as oe}from"./index.es.745b709c.js";import{Q as ae}from"./react-toastify.esm.b4b407d9.js";/* empty css                      */import{E as le,T as ue}from"./trash-2.1dbb9c2a.js";import{p as w}from"./index.9c46ddb8.js";import"./hoist-non-react-statics.cjs.d2fea6c5.js";function ce(t,e){if(t==null)return{};var n=fe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function fe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var F=z.exports.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ce(t,["color","size"]);return v("svg",{ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...o,children:[c("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),c("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})});F.propTypes={color:w.exports.string,size:w.exports.oneOfType([w.exports.string,w.exports.number])};F.displayName="Copy";const he=F;var N=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function pe(t,e){return!!(t===e||N(t)&&N(e))}function de(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!pe(t[n],e[n]))return!1;return!0}function C(t,e){e===void 0&&(e=de);var n,r=[],i,s=!1;function o(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}var ve=function(t,e,n){return n=window.getComputedStyle,(n?n(t):t.currentStyle)[e.replace(/-(\w)/gi,function(r,i){return i.toUpperCase()})]},me=ve,M=me;function ge(t){var e=M(t,"line-height"),n=parseFloat(e,10);if(e===n+""){var r=t.style.lineHeight;t.style.lineHeight=e+"em",e=M(t,"line-height"),n=parseFloat(e,10),r?t.style.lineHeight=r:delete t.style.lineHeight}if(e.indexOf("pt")!==-1?(n*=4,n/=3):e.indexOf("mm")!==-1?(n*=96,n/=25.4):e.indexOf("cm")!==-1?(n*=96,n/=2.54):e.indexOf("in")!==-1?n*=96:e.indexOf("pc")!==-1&&(n*=16),n=Math.round(n),e==="normal"){var i=t.nodeName,s=document.createElement(i);s.innerHTML="&nbsp;",i.toUpperCase()==="TEXTAREA"&&s.setAttribute("rows","1");var o=M(t,"font-size");s.style.fontSize=o,s.style.padding="0px",s.style.border="0px";var a=document.body;a.appendChild(s);var u=s.offsetHeight;n=u,a.removeChild(s)}return n}var j=ge,B=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),D=typeof window<"u"&&typeof document<"u"&&window.document===document,T=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),ye=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(T):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),be=2;function _e(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){ye(s)}function a(){var u=Date.now();if(n){if(u-i<be)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=u}return a}var we=20,Te=["top","right","bottom","left","width","height","size","weight"],Oe=typeof MutationObserver<"u",Se=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=_e(this.refresh.bind(this),we)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!D||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Oe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!D||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Te.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),V=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},y=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||T},$=S(0,0,0,0);function O(t){return parseFloat(t)||0}function W(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+O(s)},0)}function Ee(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=O(o)}return n}function xe(t){var e=t.getBBox();return S(0,0,e.width,e.height)}function Re(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return $;var r=y(t).getComputedStyle(t),i=Ee(r),s=i.left+i.right,o=i.top+i.bottom,a=O(r.width),u=O(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=W(r,"left","right")+s),Math.round(u+o)!==n&&(u-=W(r,"top","bottom")+o)),!Ce(t)){var h=Math.round(a+s)-e,d=Math.round(u+o)-n;Math.abs(h)!==1&&(a-=h),Math.abs(d)!==1&&(u-=d)}return S(i.left,i.top,a,u)}var Ae=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof y(t).SVGGraphicsElement}:function(t){return t instanceof y(t).SVGElement&&typeof t.getBBox=="function"}}();function Ce(t){return t===y(t).document.documentElement}function Me(t){return D?Ae(t)?xe(t):Re(t):$}function ke(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return V(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function S(t,e,n,r){return{x:t,y:e,width:n,height:r}}var ze=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Me(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),De=function(){function t(e,n){var r=ke(n);V(this,{target:e,contentRect:r})}return t}(),Fe=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new B,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof y(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new ze(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof y(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(e)||(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new De(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),U=typeof WeakMap<"u"?new WeakMap:new B,Q=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Se.getInstance(),r=new Fe(e,n,this);U.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Q.prototype[t]=function(){var e;return(e=U.get(this))[t].apply(e,arguments)}});var Le=function(){return typeof T.ResizeObserver<"u"?T.ResizeObserver:Q}(),I={characters:{tokenizeString:null,isAtomic:function(e){return e.length<=1}},words:{tokenizeString:function(e){return e.match(/(\s*\S[\S\xA0]*)/g)},isAtomic:function(e){return/^\s*[\S\xA0]*\s*$/.test(e)}}},K=function(e){return e.children||null};K.__rtm_atom=!0;var L=function(e){return!!(e&&e.type&&e.type.__rtm_atom===!0)},He="<Atom>",Pe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k,q,Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function je(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function We(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m={LEFT:!0,RIGHT:!1},G=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e){if(typeof e=="string")return n+e;if(L(e))return n+He}else return n;var r=Array.isArray(e)?e:e.props.children||"";return n+f.Children.map(r,function(i){return t(i)}).join("")},Ie=function(e,n,r,i){var s=function(){return r?{display:(e.props.style||{}).display||"block"}:i===2?{display:(e.props.style||{}).display||"inline-block"}:{}};return g({},e,{props:g({},e.props,{style:g({},e.props.style,s()),children:n})})},qe=function t(e){return e==null||["string","number"].includes(typeof e>"u"?"undefined":Y(e))||L(e)?!0:typeof e.type=="function"?!1:e.props&&e.props.children?f.Children.toArray(e.props.children).reduce(function(n,r){return n&&t(r)},!0):!0},J=(q=k=function(t){We(e,t);function e(n){Ne(this,e);var r=je(this,t.call(this,n));return r.lineHeight=null,r.splitDirectionSeq=[],r.shouldTruncate=!0,r.wasLastCharTested=!1,r.endFound=!1,r.latestThatFits=null,r.onTruncateCalled=!1,r.toStringMemo=C(G),r.childrenWithRefMemo=C(r.childrenElementWithRef),r.validateTreeMemo=C(qe),r.onTruncate=function(i){r.onTruncateCalled||(r.onTruncateCalled=!0,r.props.onTruncate(i))},r.handleResize=function(i,s){if(s&&s.disconnect(),!i)return null;var o=!0,a=function(){o?o=!1:(r.shouldTruncate=!1,r.latestThatFits=null,r.setState({text:r.origText},function(){r.shouldTruncate=!0,r.onTruncateCalled=!1,r.truncate()}))},u=s||new Le(a);return u.observe(i),u},r.setRef=function(i){var s=r.el!==i;r.el=i,s&&(r.resizeObserver=r.handleResize(i,r.resizeObserver))},r.state={text:r.childrenWithRefMemo(r.props.children)},r}return e.prototype.componentDidMount=function(){!this.isValid||(this.lineHeight=this.props.lineHeight||j(this.el),this.truncate())},e.prototype.UNSAFE_componentWillReceiveProps=function(r){var i=this;this.shouldTruncate=!1,this.latestThatFits=null,this.setState({text:this.childrenWithRefMemo(r.children)},function(){!i.isValid||(i.lineHeight=r.lineHeight||j(i.el),i.shouldTruncate=!0,i.truncate())})},e.prototype.componentDidUpdate=function(){if(!(this.shouldTruncate===!1||this.isValid===!1)){if(this.endFound){if(this.latestThatFits!==null&&this.state.text!==this.latestThatFits){this.setState({text:this.latestThatFits});return}this.onTruncate(!0);return}this.splitDirectionSeq.length&&(this.fits()?(this.latestThatFits=this.state.text,this.splitDirectionSeq.splice(this.splitDirectionSeq.length-1,1,m.RIGHT,m.LEFT)):this.splitDirectionSeq.push(m.LEFT),this.tryToFit(this.origText,this.splitDirectionSeq))}},e.prototype.componentWillUnmount=function(){this.lineHeight=null,this.latestThatFits=null,this.splitDirectionSeq=[]},e.prototype.truncate=function(){if(this.fits()){this.shouldTruncate=!1,this.onTruncate(!1);return}this.truncateOriginalText()},e.prototype.childrenElementWithRef=function(r){var i=f.Children.only(r);return f.cloneElement(i,{ref:this.setRef,style:g({wordWrap:"break-word"},i.props.style)})},e.prototype.truncateOriginalText=function(){this.endFound=!1,this.splitDirectionSeq=[m.LEFT],this.wasLastCharTested=!1,this.tryToFit(this.origText,this.splitDirectionSeq)},e.prototype.tryToFit=function(r,i){if(!!r.props.children){var s=this.split(r,i,!0),o=typeof this.props.ellipsis=="function"?this.props.ellipsis(s):this.props.ellipsis;o=(typeof o>"u"?"undefined":Y(o))==="object"?f.cloneElement(o,{key:"ellipsis"}):o;var a=s.props.children,u=[].concat(a,o),h=G(a)!==this.toStringMemo(this.props.children);this.setState({text:g({},s,{props:g({},s.props,{children:h?u:a})})})}},e.prototype.split=function(r,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!r||L(r))return this.endFound=!0,r;if(typeof r=="string")return this.splitString(r,i,o);if(Array.isArray(r))return this.splitArray(r,i,o);var a=this.split(r.props.children,i,!1,o+1);return Ie(r,a,s,o)},e.prototype.splitString=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments[2];if(!i.length)return r;if(i.length&&this.policy.isAtomic(r))return this.wasLastCharTested?this.endFound=!0:this.wasLastCharTested=!0,r;if(this.policy.tokenizeString){var o=this.splitArray(this.policy.tokenizeString(r),i,s);return o.join("")}var a=i[0],u=i.slice(1),h=Math.ceil(r.length/2),d=r.substring(0,h);if(a===m.LEFT)return this.splitString(d,u,s);var E=r.substring(h);return d+this.splitString(E,u,s)},e.prototype.splitArray=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments[2];if(!i.length)return r;if(r.length===1)return[this.split(r[0],i,!1,s)];var o=i[0],a=i.slice(1),u=Math.ceil(r.length/2),h=r.slice(0,u);if(o===m.LEFT)return this.splitArray(h,a,s);var d=r.slice(u);return h.concat(this.splitArray(d,a,s))},e.prototype.fits=function(){var r=this.props.lines,i=this.el.getBoundingClientRect(),s=i.height,o=Math.round(s/parseFloat(this.lineHeight));return r>=o},e.prototype.render=function(){return this.state.text},Pe(e,[{key:"isValid",get:function(){return this.validateTreeMemo(this.props.children)}},{key:"origText",get:function(){return this.childrenWithRefMemo(this.props.children)}},{key:"policy",get:function(){return I[this.props.tokenize]||I.characters}}]),e}(f.Component),k.Atom=K,k.defaultProps={lines:1,ellipsis:"...",lineHeight:"",onTruncate:function(){},tokenize:"characters"},q);J.propTypes={};function Ze({products:t}){const{flash:e,auth:n}=ne().props;console.log(t);const r=[{name:"Id",selector:l=>l.id,sortable:!0},{name:"Name",selector:l=>l.name,sortable:!0},{name:"Slug",selector:l=>l.slug,sortable:!0},{name:"Description",selector:l=>c(J,{lines:2,children:c("div",{children:l.description})}),sortable:!0},{name:"Category",selector:l=>l.category.cat_name?l.category.cat_name:" ",sortable:!0},{name:"Tag",selector:l=>l.tag.map(p=>p.tag_name+", "),sortable:!0},{name:"Product type",selector:l=>l.product_type,sortable:!0},{name:"Price",selector:l=>{if(l.product_type=="simple")return l.offer_price+" $";{const p=JSON.parse(l.variable);if(p){const _=[];return p.forEach(R=>{_.push(R.price)}),Math.min(..._)+"-"+Math.max(..._)+" $"}}},sortable:!0},{name:"Image",selector:l=>c("img",{className:"preview_img",src:"/uploads/"+l.image})},{name:"Action",selector:l=>v("div",{children:[v(A,{href:route("product.edit",l.id),className:"btn btn-datatable btn-icon btn-transparent-dark me-2",children:[" ",c(le,{})]}),v(A,{href:route("product.duplicate",l.id),className:"btn btn-datatable btn-icon btn-transparent-dark me-2",children:[" ",c(he,{})]}),c("button",{onClick:()=>{window.confirm("Are you sure to delete this record?")&&P.Inertia.delete(route("product.destroy",l.id))},className:"btn btn-datatable btn-icon btn-transparent-dark deleteBtn",children:c(ue,{})})]})}],i=e.success;z.exports.useEffect(()=>{ae.success(i,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},[i]);const[s,o]=f.useState([]),[a,u]=f.useState(!1),[h,d]=f.useState(t),E=f.useCallback(l=>{o(l.selectedRows)},[]),X=f.useMemo(()=>c("button",{onClick:()=>{if(window.confirm(`Are you sure you want to delete ${s.length} item?`)){const p=[];s.map(R=>{p.push(R.id)});const _=p.join();P.Inertia.delete(route("product.destroy",_)),u(!a)}},className:"btn btn-primary",children:"Delete"}),[h,s,a]),[b,H]=f.useState(""),[x,Z]=f.useState(!1),ee=f.useMemo(()=>v("div",{className:"input-group mb-3",children:[c("input",{onChange:p=>{H(p.target.value)},value:b,type:"text",className:"form-control",placeholder:"Search here"}),c("div",{className:"input-group-append",children:c("button",{onClick:()=>{b&&(Z(!x),H(""))},className:"btn btn-outline-secondary",type:"button",children:"Clear"})})]}),[b,x]),te=t.filter(l=>l.name&&l.name.toLowerCase().includes(b.toLowerCase())||l.slug&&l.slug.toLowerCase().includes(b.toLowerCase())),[Ge,re]=f.useState(!0);return z.exports.useEffect(()=>{re(!1)},[t]),v(ie,{children:[c(se,{title:"Products"}),c("div",{className:"container-xl px-4",children:v("div",{className:"card mb-4",children:[v("div",{className:"card-header",children:["Product Information ",c(A,{className:"btn btn-primary",style:{float:"right"},href:route("product.create"),children:"Add product"})]}),c("div",{className:"card-body",children:c("div",{className:"datatable",children:c(oe,{title:"Products List",columns:r,data:te,pagination:!0,paginationResetDefaultPage:x,subHeader:!0,subHeaderComponent:ee,selectableRows:!0,contextActions:X,onSelectedRowsChange:E,clearSelectedRows:a,defaultSortFieldId:1,defaultSortAsc:!1})})})]})})]})}export{Ze as default};
