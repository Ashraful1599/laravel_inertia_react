import{a as z,r as A,j as a,b as e}from"./app.8ee9396d.js";import{D as j}from"./DashboardLayout.be011592.js";import{H as E}from"./Header.c54a3ebc.js";import{E as K}from"./Editor.e0b08e3e.js";import"./index.9c46ddb8.js";import"./react-toastify.esm.b4b407d9.js";function R({categories:v,tags:g,terms:T,attributes:f,product:s}){const{data:r,setData:c,post:N,processing:y,errors:t,reset:U,progress:m}=z({name:s.name,slug:s.slug,regular_price:s.regular_price,offer_price:s.offer_price,sku:s.sku,promo1:s.promo1,promo2:s.promo2,tax_class:s.tax_class,cat_id:s.cat_id,tag_id:s.tag_id,image:null,image2:null,gallery:null,status:s.status,fetured:s.fetured,description:s.description,product_type:s.product_type,variable:JSON.parse(s.variable)}),i=l=>{c(l.target.name,l.target.value)},x=l=>{l.preventDefault(),c("image",l.target.files[0])},_=l=>{l.preventDefault(),c("image2",l.target.files[0])},k=l=>{l.preventDefault(),c("gallery",l.target.files)},C=l=>{c("description",l)},S=l=>{l.preventDefault(),N(route("product.update",s.id))};console.log(r);const P=JSON.parse(s.variable),[p,h]=A.exports.useState(P),w=()=>{h(l=>[...l,{size:"",color:"",price:""}])};let V=l=>{let n=[...p];n.splice(l,1),h(n)};const u=l=>{l.preventDefault();const n=l.target.id;h(d=>{const o=d.slice();if(l.target.name=="variablePrice")return o[n].price=l.target.value,o;if(l.target.name=="variableSize")return o[n].size=l.target.value,o;if(l.target.name=="variableColor")return o[n].color=l.target.value,o}),c("variable",p)};return console.log(r),a(j,{children:[e(E,{title:"Product"}),e("div",{className:"container-xl px-4",children:e("form",{onSubmit:S,children:a("div",{className:"row",children:[e("div",{className:"col-lg-8",children:a("div",{className:"card mb-4",children:[e("div",{className:"card-header",children:"Product Information"}),a("div",{className:"card-body",children:[a("div",{className:"form-group",children:[e("label",{className:"col-sm-2 col-form-label",children:"Name"}),e("input",{onChange:i,value:r.name,name:"name",type:"text",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.name})]}),a("div",{className:"form-group",children:[e("label",{className:"col-sm-2 col-form-label",children:"Slug"}),e("input",{onChange:i,value:r.slug,name:"slug",type:"text",className:"form-control"})]}),a("div",{className:"form-group mb-3",children:[e("label",{className:"col-sm-2 col-form-label",children:"Description"}),e(K,{apiKey:"nkkvgg6v97wpitv8o0qjvf3zsut8x3eqyb5difq13e14dzko",initialValue:r.description,init:{height:400,menubar:!0,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",images_upload_url:"http://127.0.0.1:8000/imgupload",automatic_uploads:!0},onEditorChange:C}),t&&e("div",{className:"text-danger",children:t.description})]}),a("div",{className:"form-group mt-3 mb-3",children:[e("div",{className:" form-check-inline",children:e("label",{className:"form-check-label",children:"Product type:"})}),a("div",{className:"form-check form-check-inline",children:[e("label",{className:"form-check-label",htmlFor:"inlineCheckbox1",children:"Simple"}),e("input",{onChange:i,checked:r.product_type=="simple",name:"product_type",className:"form-check-input",type:"radio",id:"inlineCheckbox1",value:"simple"})]}),a("div",{className:"form-check form-check-inline",children:[e("label",{className:"form-check-label",htmlFor:"inlineCheckbox2",children:"Variable"}),e("input",{onChange:i,checked:r.product_type=="variable",name:"product_type",className:"form-check-input",type:"radio",id:"inlineCheckbox2",value:"variable"})]})]}),r.product_type==="simple"?a("div",{className:"d-flex align-items-start",children:[a("div",{className:"nav flex-column nav-pills me-3",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[e("button",{className:"nav-link active",id:"v-pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-home",type:"button",children:"Price"}),e("button",{className:"nav-link",id:"v-pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-profile",type:"button",children:"SKU"}),e("button",{className:"nav-link",id:"v-pills-messages-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-messages",type:"button",children:"Tax class"}),e("button",{className:"nav-link",id:"v-pills-settings-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-settings",type:"button",children:"Promo label"})]}),a("div",{className:"tab-content product_tab_content",id:"v-pills-tabContent",children:[a("div",{className:"tab-pane fade show active",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab",children:[a("div",{className:"form-group",children:[e("label",{className:"col-form-label",children:"Regular Price"}),e("input",{onChange:i,value:r.regular_price,name:"regular_price",type:"number",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.regular_price})]}),a("div",{className:"form-group",children:[e("label",{className:"col-form-label",children:"Offer Price"}),e("input",{onChange:i,value:r.offer_price,name:"offer_price",type:"number",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.offer_price})]})]}),e("div",{className:"tab-pane fade",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab",children:a("div",{className:"form-group",children:[e("label",{className:"col-form-label",children:"SKU"}),e("input",{onChange:i,value:r.sku,name:"sku",type:"text",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.sku})]})}),e("div",{className:"tab-pane fade",id:"v-pills-messages",role:"tabpanel","aria-labelledby":"v-pills-messages-tab",children:a("div",{className:"form-group",children:[e("label",{className:"col-form-label",children:"Tax class"}),a("select",{onChange:i,className:"form-select",name:"tax_class",defaultValue:"no_tax",children:[e("option",{value:"",children:"Select a tax class"}),e("option",{value:"no_tax",children:"No tax"}),e("option",{value:"standard",children:"Standard"})]})]})}),a("div",{className:"tab-pane fade",id:"v-pills-settings",role:"tabpanel","aria-labelledby":"v-pills-settings-tab",children:[a("div",{className:"form-group",children:[e("label",{className:"col-form-label",children:"Promotional label 1"}),e("input",{onChange:i,value:r.promo1,name:"promo1",type:"text",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.promo1})]}),a("div",{className:"form-group",children:[e("label",{className:"col-form-label",children:"Promotional label 2"}),e("input",{onChange:i,value:r.promo2,name:"promo2",type:"text",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.promo2})]})]})]})]}):a("div",{className:"d-flex align-items-start",children:[a("div",{className:"nav flex-column nav-pills me-3",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[e("button",{className:"nav-link active",id:"v-pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-home",type:"button",children:"Variable"}),e("button",{className:"nav-link",id:"v-pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-profile",type:"button",children:"SKU"}),e("button",{className:"nav-link",id:"v-pills-messages-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-messages",type:"button",children:"Tax class"}),e("button",{className:"nav-link",id:"v-pills-settings-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-settings",type:"button",children:"Promo label"})]}),a("div",{className:"tab-content product_tab_content",id:"v-pills-tabContent",children:[e("div",{className:"tab-pane fade show active",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab",children:a("div",{children:[e("button",{className:"btn btn-secondary ",type:"button",onClick:w,children:"Add variable"}),p.map((l,n)=>a("div",{className:"row mt-3",children:[f.map((d,o)=>{var D=d.name.toLowerCase(),H=l[D];return e("div",{className:"col-sm",children:a("select",{defaultValue:H,name:"variable"+d.name,onChange:u,id:n,className:"form-select",children:[a("option",{value:"",children:["Select ",d.name]}),d.terms.map((b,F)=>e("option",{value:b.id,children:b.name},F))]})},o)}),e("div",{className:"col-sm",children:e("input",{onChange:u,placeholder:"Enter price",name:"variablePrice",value:l.price,id:n,type:l.type,size:"40",className:"form-control"})}),e("div",{className:"col-sm",children:e("button",{type:"button",className:"btn btn-danger ",onClick:()=>V(n),children:"Remove"})})]},n))]})}),e("div",{className:"tab-pane fade",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab",children:a("div",{className:"form-group",children:[e("label",{className:"col-form-label",children:"SKU"}),e("input",{onChange:i,value:r.sku,name:"sku",type:"text",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.sku})]})}),e("div",{className:"tab-pane fade",id:"v-pills-messages",role:"tabpanel","aria-labelledby":"v-pills-messages-tab",children:a("div",{className:"form-group",children:[e("label",{className:"col-form-label",children:"Tax class"}),a("select",{onChange:i,className:"form-select",name:"tax_class",defaultValue:"no_tax",children:[e("option",{value:"",children:"Select a tax class"}),e("option",{value:"no_tax",children:"No tax"}),e("option",{value:"standard",children:"Standard"})]})]})}),a("div",{className:"tab-pane fade",id:"v-pills-settings",role:"tabpanel","aria-labelledby":"v-pills-settings-tab",children:[a("div",{className:"form-group",children:[e("label",{className:"col-form-label",children:"Promotional label 1"}),e("input",{onChange:i,value:r.promo1,name:"promo1",type:"text",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.promo1})]}),a("div",{className:"form-group",children:[e("label",{className:"col-form-label",children:"Promotional label 2"}),e("input",{onChange:i,value:r.promo2,name:"promo2",type:"text",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.promo2})]})]})]})]})]})]})}),e("div",{className:"col-lg-4",children:a("div",{className:"card mb-4 nav-sticky",children:[e("div",{className:"card-header",children:"Product Information"}),a("div",{className:"card-body",children:[a("div",{className:"form-group",children:[e("label",{className:"col-sm-2 col-form-label",children:"Category"}),a("select",{className:"form-control",onChange:i,name:"cat_id",defaultValue:r.cat_id,children:[e("option",{children:"Select a Category"}),v.map((l,n)=>e("option",{value:l.id,children:l.cat_name},n))]}),t&&e("div",{className:"text-danger",children:t.cat_id})]}),a("div",{className:"form-group",children:[e("label",{className:"col-sm-2 col-form-label",children:"Tag"}),a("select",{className:"form-control",onChange:i,name:"tag_id",defaultValue:r.tag_id,children:[e("option",{children:"Select a tag"}),g.map((l,n)=>e("option",{value:l.id,children:l.tag_name},n))]}),t&&e("div",{className:"text-danger",children:t.tag_id})]}),a("div",{className:"form-group",children:[e("label",{className:" col-form-label",children:"Fetured"}),a("select",{className:"form-control",onChange:i,name:"fetured",defaultValue:r.fetured,children:[e("option",{children:"Select featured status"}),e("option",{value:"0",children:"No"}),e("option",{value:"1",children:"Yes"})]}),t&&e("div",{className:"text-danger",children:t.fetured})]}),a("div",{className:"form-group",children:[e("label",{className:" col-form-label",children:"Status"}),a("select",{className:"form-control",onChange:i,name:"status",defaultValue:r.status,children:[e("option",{value:"1",children:"Publish"}),e("option",{value:"0",children:"Draft"})]}),t&&e("div",{className:"text-danger",children:t.status})]}),a("div",{className:"form-group mb-3",children:[e("label",{className:" col-form-label",children:"Small image"}),e("input",{onChange:x,name:"image",type:"file",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.image})]}),a("div",{className:"form-group mb-3",children:[e("label",{className:" col-form-label",children:"Small image on hover"}),e("input",{onChange:_,name:"image2",type:"file",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.image2})]}),a("div",{className:"form-group mb-3",children:[e("label",{className:" col-form-label",children:"Gallery (you can select multiple images)"}),e("input",{multiple:"multiple",onChange:k,name:"gallery",type:"file",className:"form-control"}),t&&e("div",{className:"text-danger",children:t.gallery})]}),e("div",{className:"row",children:m&&a("progress",{value:m.percentage,max:"100",children:[m.percentage,"%"]})}),e("button",{disabled:y,type:"submit",className:"btn btn-primary",children:"Save"})]})]})})]})})})]})}export{R as default};
