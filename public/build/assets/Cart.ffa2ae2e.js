import{u as v,a as g,r as h,b as e,j as t,L as o}from"./app.8ee9396d.js";import{F as y}from"./FrontendLayout.e54e6823.js";import"./react-toastify.esm.b4b407d9.js";import"./react-paginate.74cec0d8.js";function q({cartItems:n,subtotal:m,total:p}){const{flash:N}=v().props;N.success;const{data:c,setData:s,post:i,processing:x,errors:C,reset:w}=g({rowId:"",qty:"",type:""}),d=h.exports.useRef([]),u=r=>{var a=d.current[r].value;s({rowId:r,qty:a,type:"update"})},b=r=>{s({rowId:r,type:"remove"})};return h.exports.useEffect(()=>{c.rowId!=""&&c.type=="update"&&i(route("cart.update",c)),c.rowId!=""&&c.type=="remove"&&i(route("cart.remove",c))},[c]),e(y,{children:t("main",{className:"main",children:[t("div",{className:"container",children:[t("ul",{className:"checkout-progress-bar d-flex justify-content-center flex-wrap",children:[e("li",{className:"active",children:e(o,{href:route("cart.list"),children:"Shopping Cart"})}),e("li",{children:e(o,{href:route("checkout.index"),children:"Checkout"})}),e("li",{className:"disabled",children:e(o,{href:route("order.index"),children:"Order Complete"})})]}),t("div",{className:"row",children:[e("div",{className:"col-lg-8",children:e("div",{className:"cart-table-container",children:t("table",{className:"table table-cart",children:[e("thead",{children:t("tr",{children:[e("th",{className:"thumbnail-col"}),e("th",{className:"product-col",children:"Product"}),e("th",{className:"price-col",children:"Price"}),e("th",{className:"qty-col",children:"Quantity"}),e("th",{className:"text-right",children:"Subtotal"})]})}),e("tbody",{children:Object.values(n).length!=0?Object.values(n).map((r,a)=>t("tr",{id:a,className:"product-row",children:[e("td",{children:t("figure",{className:"product-image-container",children:[e(o,{href:route("product.show",r.options.slug),className:"product-image",children:e("img",{src:"/uploads/"+r.options.image,alt:"product"})}),e(o,{onClick:()=>b(r.rowId),className:"btn-remove icon-cancel",title:"Remove Product"})]})}),t("td",{className:"product-col",children:[e("h5",{className:"product-title",children:e(o,{href:route("product.show",r.options.slug),children:r.name})}),r.options.attr&&r.options.attr.map((l,f)=>t("div",{className:"cart_attr",children:[l.attr_name,": ",l.term_name]},f))]}),e("td",{children:"$"+r.price.toFixed(2)}),e("td",{children:e("div",{className:"product-single-qty",children:t("div",{className:"input-group bootstrap-touchspin bootstrap-touchspin-injected",children:[e("span",{className:"input-group-btn input-group-prepend",children:e("button",{onClick:()=>u(r.rowId),className:"btn btn-outline btn-down-icon bootstrap-touchspin-down",type:"button"})}),e("input",{defaultValue:r.qty,id:r.rowId,ref:l=>d.current[r.rowId]=l,className:"horizontal-quantity form-control",type:"text"}),e("span",{className:"input-group-btn input-group-append",children:e("button",{onClick:()=>u(r.rowId),className:"btn btn-outline btn-up-icon bootstrap-touchspin-up",type:"button"})})]})})}),e("td",{className:"text-right",children:e("span",{className:"subtotal-price",children:"$"+(r.price*r.qty).toFixed(2)})})]},a)):e("tr",{children:e("td",{colSpan:"4",align:"center",children:"There is no item in the cart."})})}),e("tfoot",{children:e("tr",{children:t("td",{colSpan:"5",className:"clearfix",children:[e("div",{className:"float-left",children:e("div",{className:"cart-discount",children:e("form",{action:"#",children:t("div",{className:"input-group",children:[e("input",{type:"text",className:"form-control form-control-sm",placeholder:"Coupon Code",required:!0}),e("div",{className:"input-group-append",children:e("button",{className:"btn btn-sm",type:"submit",children:"Apply Coupon"})})]})})})}),e("div",{className:"float-right",children:e("button",{type:"submit",className:"btn btn-shop btn-update-cart",children:"Update Cart"})})]})})})]})})}),e("div",{className:"col-lg-4",children:t("div",{className:"cart-summary",children:[e("h3",{children:"CART TOTALS"}),t("table",{className:"table table-totals",children:[t("tbody",{children:[t("tr",{children:[e("td",{children:"Subtotal"}),t("td",{children:["$",m]})]}),e("tr",{children:t("td",{colSpan:"2",className:"text-left",children:[e("h4",{children:"Shipping"}),e("div",{className:"form-group form-group-custom-control",children:t("div",{className:"custom-control custom-radio",children:[e("input",{type:"radio",className:"custom-control-input",name:"radio"}),e("label",{className:"custom-control-label",children:"Local pickup"})]})}),e("div",{className:"form-group form-group-custom-control mb-0",children:t("div",{className:"custom-control custom-radio mb-0",children:[e("input",{type:"radio",name:"radio",className:"custom-control-input"}),e("label",{className:"custom-control-label",children:"Flat rate"})]})}),t("form",{onSubmit:r=>r.preventDefault(),children:[t("div",{className:"form-group form-group-sm",children:[t("label",{children:["Shipping to ",e("strong",{children:"NY."})]}),e("div",{className:"select-custom",children:t("select",{className:"form-control form-control-sm",children:[e("option",{value:"USA",children:"United States (US)"}),e("option",{value:"Turkey",children:"Turkey"}),e("option",{value:"China",children:"China"}),e("option",{value:"Germany",children:"Germany"})]})})]}),e("div",{className:"form-group form-group-sm",children:e("div",{className:"select-custom",children:t("select",{className:"form-control form-control-sm",children:[e("option",{value:"NY",children:"New York"}),e("option",{value:"CA",children:"California"}),e("option",{value:"TX",children:"Texas"})]})})}),e("div",{className:"form-group form-group-sm",children:e("input",{type:"text",className:"form-control form-control-sm",placeholder:"Town / City"})}),e("div",{className:"form-group form-group-sm",children:e("input",{type:"text",className:"form-control form-control-sm",placeholder:"ZIP"})}),e("button",{type:"submit",className:"btn btn-shop btn-update-total",children:"Update Totals"})]})]})})]}),e("tfoot",{children:t("tr",{children:[e("td",{children:"Total"}),t("td",{children:["$",p]})]})})]}),e("div",{className:"checkout-methods",children:t(o,{href:route("checkout.index"),className:"btn btn-block btn-dark",children:["Proceed to Checkout",e("i",{className:"fa fa-arrow-right"})]})})]})})]})]}),e("div",{className:"mb-6"})]})})}export{q as default};
