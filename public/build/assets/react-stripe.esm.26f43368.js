import{R as c,b as T}from"./app.8ee9396d.js";import{p as i}from"./index.9c46ddb8.js";function oe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(p){return Object.getOwnPropertyDescriptor(r,p).enumerable})),t.push.apply(t,n)}return t}function ae(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oe(Object(t),!0).forEach(function(n){le(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function B(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?B=function(e){return typeof e}:B=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(r)}function le(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function q(r,e){return Be(r)||Te(r,e)||Ue(r,e)||We()}function Be(r){if(Array.isArray(r))return r}function Te(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var n=[],p=!0,a=!1,v,C;try{for(t=t.call(r);!(p=(v=t.next()).done)&&(n.push(v.value),!(e&&n.length===e));p=!0);}catch(o){a=!0,C=o}finally{try{!p&&t.return!=null&&t.return()}finally{if(a)throw C}}return n}}function Ue(r,e){if(!!r){if(typeof r=="string")return se(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return se(r,e)}}function se(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function We(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=function(e){var t=c.useRef(e);return c.useEffect(function(){t.current=e},[e]),t.current},j=function(e){return e!==null&&B(e)==="object"},Me=function(e){return j(e)&&typeof e.then=="function"},qe=function(e){return j(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ie="[object Object]",De=function r(e,t){if(!j(e)||!j(t))return e===t;var n=Array.isArray(e),p=Array.isArray(t);if(n!==p)return!1;var a=Object.prototype.toString.call(e)===ie,v=Object.prototype.toString.call(t)===ie;if(a!==v)return!1;if(!a&&!n)return e===t;var C=Object.keys(e),o=Object.keys(t);if(C.length!==o.length)return!1;for(var h={},g=0;g<C.length;g+=1)h[C[g]]=!0;for(var E=0;E<o.length;E+=1)h[o[E]]=!0;var S=Object.keys(h);if(S.length!==C.length)return!1;var R=e,P=t,b=function(O){return r(R[O],P[O])};return S.every(b)},pe=function(e,t,n){return j(e)?Object.keys(e).reduce(function(p,a){var v=!j(t)||!De(e[a],t[a]);return n.includes(a)?(v&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),p):v?ae(ae({},p||{}),{},le({},a,e[a])):p},null):null},Fe="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ce=function(e){if(e===null||qe(e))return e;throw new Error(Fe)},Ke=function(e){if(Me(e))return{tag:"async",stripePromise:Promise.resolve(e).then(ce)};var t=ce(e);return t===null?{tag:"empty"}:{tag:"sync",stripe:t}},F=c.createContext(null);F.displayName="ElementsContext";var Ye=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},K=c.createContext(null);K.displayName="CartElementContext";var ze=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},He=function(e){var t=e.stripe,n=e.options,p=e.children,a=c.useMemo(function(){return Ke(t)},[t]),v=c.useState(null),C=q(v,2),o=C[0],h=C[1],g=c.useState(null),E=q(g,2),S=E[0],R=E[1],P=c.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(n):null}}),b=q(P,2),y=b[0],O=b[1];c.useEffect(function(){var m=!0,$=function(N){O(function(I){return I.stripe?I:{stripe:N,elements:N.elements(n)}})};return a.tag==="async"&&!y.stripe?a.stripePromise.then(function(L){L&&m&&$(L)}):a.tag==="sync"&&!y.stripe&&$(a.stripe),function(){m=!1}},[a,y,n]);var _=D(t);c.useEffect(function(){_!==null&&_!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[_,t]);var w=D(n);return c.useEffect(function(){if(!!y.elements){var m=pe(n,w,["clientSecret","fonts"]);m&&y.elements.update(m)}},[n,w,y.elements]),c.useEffect(function(){var m=y.stripe;!m||!m._registerWrapper||!m.registerAppInfo||(m._registerWrapper({name:"react-stripe-js",version:"1.16.0"}),m.registerAppInfo({name:"react-stripe-js",version:"1.16.0",url:"https://stripe.com/docs/stripe-js/react"}))},[y.stripe]),T(F.Provider,{value:y,children:T(K.Provider,{value:{cart:o,setCart:h,cartState:S,setCartState:R},children:p})})};He.propTypes={stripe:i.exports.any,options:i.exports.object};var U=function(e){var t=c.useContext(F);return Ye(t,e)},ue=function(e){var t=c.useContext(K);return ze(t,e)},Qe=function(){var e=U("calls useElements()"),t=e.elements;return t},Xe=function(){var e=U("calls useStripe()"),t=e.stripe;return t};i.exports.func.isRequired;var f=function(e){var t=c.useRef(e);return c.useEffect(function(){t.current=e},[e]),function(){t.current&&t.current.apply(t,arguments)}},d=function(){},Je=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},u=function(e,t){var n="".concat(Je(e),"Element"),p=function(o){var h=o.id,g=o.className,E=o.options,S=E===void 0?{}:E,R=o.onBlur,P=R===void 0?d:R,b=o.onFocus,y=b===void 0?d:b,O=o.onReady,_=O===void 0?d:O,w=o.onChange,m=w===void 0?d:w,$=o.onEscape,L=$===void 0?d:$,N=o.onClick,I=N===void 0?d:N,Y=o.onLoadError,fe=Y===void 0?d:Y,z=o.onLoaderStart,de=z===void 0?d:z,H=o.onNetworksChange,ve=H===void 0?d:H,J=o.onCheckout,me=J===void 0?d:J,V=o.onLineItemClick,Ce=V===void 0?d:V,G=o.onConfirm,ye=G===void 0?d:G,Q=o.onCancel,he=Q===void 0?d:Q,X=o.onShippingAddressChange,ge=X===void 0?d:X,Z=o.onShippingRateChange,Ee=Z===void 0?d:Z,Se=U("mounts <".concat(n,">")),ee=Se.elements,k=c.useRef(null),W=c.useRef(null),te=ue("mounts <".concat(n,">")),re=te.setCart,A=te.setCartState,M=f(_),xe=f(P),be=f(y),Oe=f(I),ke=f(m),Re=f(L),Ae=f(fe),je=f(de),Pe=f(ve),_e=f(me),we=f(Ce),$e=f(ye),Le=f(he),Ne=f(ge),Ie=f(Ee);c.useLayoutEffect(function(){if(k.current==null&&ee&&W.current!=null){var s=ee.create(e,S);e==="cart"&&re&&re(s),k.current=s,s.mount(W.current),s.on("ready",function(x){e==="cart"?(A&&A(x),M(x)):M(e==="payButton"?x:s)}),s.on("change",function(x){e==="cart"&&A&&A(x),ke(x)}),s.on("blur",xe),s.on("focus",be),s.on("escape",Re),s.on("loaderror",Ae),s.on("loaderstart",je),s.on("networkschange",Pe),s.on("click",Oe),s.on("checkout",function(x){e==="cart"&&A&&A(x),_e(x)}),s.on("lineitemclick",we),s.on("confirm",$e),s.on("cancel",Le),s.on("shippingaddresschange",Ne),s.on("shippingratechange",Ie)}});var ne=D(S);return c.useEffect(function(){if(!!k.current){var s=pe(S,ne,["paymentRequest"]);s&&k.current.update(s)}},[S,ne]),c.useLayoutEffect(function(){return function(){k.current&&(k.current.destroy(),k.current=null)}},[]),T("div",{id:h,className:g,ref:W})},a=function(o){U("mounts <".concat(n,">")),ue("mounts <".concat(n,">"));var h=o.id,g=o.className;return T("div",{id:h,className:g})},v=t?a:p;return v.propTypes={id:i.exports.string,className:i.exports.string,onChange:i.exports.func,onBlur:i.exports.func,onFocus:i.exports.func,onReady:i.exports.func,onEscape:i.exports.func,onClick:i.exports.func,onLoadError:i.exports.func,onLoaderStart:i.exports.func,onNetworksChange:i.exports.func,onCheckout:i.exports.func,onLineItemClick:i.exports.func,onConfirm:i.exports.func,onCancel:i.exports.func,onShippingAddressChange:i.exports.func,onShippingRateChange:i.exports.func,options:i.exports.object},v.displayName=n,v.__elementType=e,v},l=typeof window>"u";u("auBankAccount",l);var Ze=u("card",l);u("cardNumber",l);u("cardExpiry",l);u("cardCvc",l);u("fpxBank",l);u("iban",l);u("idealBank",l);u("p24Bank",l);u("epsBank",l);u("payment",l);u("payButton",l);u("paymentRequestButton",l);u("linkAuthentication",l);u("address",l);u("shippingAddress",l);u("cart",l);u("paymentMethodMessaging",l);u("affirmMessage",l);u("afterpayClearpayMessage",l);export{Ze as C,He as E,Qe as a,Xe as u};
